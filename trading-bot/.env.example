# ========================
# Core Application Settings
# ========================

# Trading Mode (paper/live)
TRADING_MODE=paper

# ========================
# Broker Configuration
# ========================

# MetaTrader 5 Configuration
MT5_SERVER=YourServerName
MT5_LOGIN=YourAccountNumber
MT5_PASSWORD=YourPassword
MT5_TIMEOUT=60000  # Connection timeout in milliseconds
MT5_PORTABLE=False  # Set to True if using portable MT5 installation
MT5_PATH=C:\\Path\\To\\terminal64.exe  # Path to MT5 terminal

# Order Execution
ORDER_EXECUTION_TIMEOUT=30  # seconds
MAX_ORDER_RETRIES=3
ORDER_CONFIRMATION_TIMEOUT=10  # seconds

# ========================
# Cache & Message Bus
# ========================

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0
REDIS_KEY_PREFIX=trading_bot:
REDIS_CACHE_TTL=3600  # 1 hour default TTL

# Message Queue (RabbitMQ)
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=guest
RABBITMQ_PASSWORD=guest
RABBITMQ_VHOST=/
RABBITMQ_QUEUE_PREFIX=trading_bot

# ========================
# Logging & Monitoring
# ========================

# Application Logging
LOG_LEVEL=INFO           # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_TO_FILE=true         # Enable/disable file logging
LOG_FILE=logs/trading_bot.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# Monitoring System
MONITORING_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics
HEALTH_CHECK_PATH=/health
PROMETHEUS_PORT=9100
METRICS_UPDATE_INTERVAL=60  # seconds

# Alerting
ALERT_MANAGER_URL=http://localhost:9093
ALERT_MANAGER_API_KEY=your_alert_manager_api_key
ALERT_RECIPIENTS=admin@example.com
ALERT_THRESHOLD_CRITICAL=5
ALERT_THRESHOLD_WARNING=10
ALERT_EMAIL=your.email@example.com
ALERT_TELEGRAM_TOKEN=your_telegram_bot_token
ALERT_TELEGRAM_CHAT_ID=your_telegram_chat_id

# ========================
# Storage & Data
# ========================

# Data Storage
DATA_DIR=./data          # Directory for storing market data
BACKTEST_RESULTS_DIR=./backtest_results

# Time Series Database (InfluxDB)
INFLUXDB_URL=http://localhost:8086
INFLUXDB_TOKEN=your_influxdb_token
INFLUXDB_ORG=your_org
INFLUXDB_BUCKET=trading_metrics
INFLUXDB_RETENTION=30d

# Market Data Configuration
UPDATE_INTERVAL=60       # Data update interval in seconds
HISTORICAL_BARS=1000     # Number of historical bars to load
TIMEZONE=UTC             # Timezone for timestamps

# ========================
# Market Data & Instruments
# ========================

# Instrument Configuration
SYMBOLS=EURUSD,GBPUSD,USDJPY,XAUUSD  # Default symbols to trade
TIMEFRAMES=M1,M5,M15,H1,H4,D1        # Timeframes to use

# Market Data Providers
MARKET_DATA_PROVIDER=MT5             # Options: MT5, CCXT, ALPACA, etc.
MARKET_DATA_API_KEY=your_api_key_here
MARKET_DATA_SECRET=your_secret_here

# Data Quality
MAX_DATA_AGE_MINUTES=15
DATA_VALIDATION_ENABLED=true

# ========================
# Security & Authentication
# ========================

# API Security
AUTH_ENABLED=true
API_KEYS=your_secure_api_key_1,your_secure_api_key_2
JWT_SECRET=your_jwt_secret_key_here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=1440  # 24 hours

# Rate Limiting
RATE_LIMIT=100/minute
MAX_REQUESTS_PER_DAY=10000

# CORS
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Session Security
SESSION_SECRET=your_session_secret_here
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax

# ========================
# Risk Management
# ========================

# Trading Parameters
INITIAL_BALANCE=10000.0  # Initial account balance in USD
RISK_PER_TRADE=0.01      # 1% risk per trade
MAX_DRAWDOWN=0.1         # 10% max drawdown
MAX_LEVERAGE=10.0        # Maximum leverage
DAILY_LOSS_LIMIT=0.05    # 5% daily loss limit
MAX_RISK_PER_TRADE=0.02  # 2% of account balance
MAX_DAILY_DRAWDOWN=0.05  # 5% max daily drawdown
MAX_LEVERAGE=100         # Maximum allowed leverage

# Circuit Breakers
ENABLE_CIRCUIT_BREAKERS=true
CIRCUIT_BREAKER_THRESHOLD=5  # Number of failures before opening circuit
CIRCUIT_BREAKER_TIMEOUT=300  # Seconds before attempting to close circuit

# Position Management
MAX_DAILY_TRADES=100
MAX_OPEN_POSITIONS=10
STOP_LOSS_PIPS=20        # Default stop loss in pips
TAKE_PROFIT_PIPS=40      # Default take profit in pips
DEFAULT_LOTS=0.1
DEFAULT_SL_PIPS=50
DEFAULT_TP_PIPS=100

# ========================
# Exchange API Credentials
# ========================

# Binance Exchange
BINANCE_API_KEY=your_binance_api_key
BINANCE_API_SECRET=your_binance_api_secret
BINANCE_SANDBOX=false  # Set to true for testnet

# Coinbase Exchange
COINBASE_API_KEY=your_coinbase_api_key
COINBASE_API_SECRET=your_coinbase_api_secret
COINBASE_API_PASSPHRASE=your_coinbase_api_passphrase
COINBASE_SANDBOX=false  # Set to true for sandbox mode

# Alpaca
ALPACA_API_KEY=your_alpaca_api_key
ALPACA_API_SECRET=your_alpaca_api_secret

# TradingView Webhook
WEBHOOK_SECRET=your_webhook_secret

# Sentry (Error Tracking)
SENTRY_DSN=your_sentry_dsn

# Environment (development/staging/production)
ENVIRONMENT=development

# Trading Mode Configuration
AUTO_TRADE=true  # Enable automatic trading
SIMULATION_MODE=true  # Run in simulation mode (no real trades)
PAPER_TRADING=true  # Use paper trading account
REQUIRE_CONFIRMATION=false  # Disable manual confirmation for trades
MAX_OPEN_TRADES=10  # Maximum number of concurrent open trades
DEFAULT_SLIPPAGE=0.0005  # Default slippage (0.05%)
DEFAULT_COMMISSION=0.001  # Default commission (0.1%)

# Dashboard Settings
DEBUG=True
DASHBOARD_HOST=0.0.0.0
DASHBOARD_PORT=8050
DASHBOARD_USERNAME=admin
DASHBOARD_PASSWORD=changeme
